# Auruma Server Linux é·ç§»è¨ˆåŠƒ

> å°‡ Auruma-Server å¾ Windows Server 2016 é·ç§»åˆ° Linux Ubuntuï¼Œä¸¦å®‰è£å„ç¨®æ‡‰ç”¨èˆ‡æœå‹™

**æœ€å¾Œæ›´æ–°**ï¼š2026-01-27

---

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

**ç›®æ¨™**ï¼šå°‡è¾¦å…¬å®¤ Auruma Server å¾ Windows Server 2016 æ”¹ç‚º Linux Ubuntuï¼Œæå‡ç©©å®šæ€§ã€å®‰å…¨æ€§èˆ‡æ•ˆèƒ½ã€‚

**å‹•æ©Ÿ**ï¼š
- Linux æ›´é©åˆä½œç‚ºé•·æœŸé‹è¡Œçš„æœå‹™å™¨
- æ›´å¥½çš„å¥—ä»¶ç®¡ç†å’Œæ›´æ–°æ©Ÿåˆ¶
- é™ä½æˆæ¬Šæˆæœ¬
- æ›´é©åˆå®¹å™¨åŒ–éƒ¨ç½²ï¼ˆDockerï¼‰

---

## ğŸ–¥ï¸ ç›®å‰ Auruma Server è¦æ ¼

| é …ç›® | è¦æ ¼ |
|------|------|
| **ä½œæ¥­ç³»çµ±** | Windows Server 2016 Standard |
| **CPU** | Intel Xeon Silver 4110 @ 2.10GHz (8 æ ¸å¿ƒ) |
| **è¨˜æ†¶é«”** | 32 GB |
| **ç£ç¢Ÿ** | C: 199GB (38% ä½¿ç”¨) / D: 1.44TB (<1% ä½¿ç”¨) |
| **å€ç¶² IP** | 192.168.1.251 |
| **å¤–ç¶² IP** | 114.32.187.14ï¼ˆä¸­è¯é›»ä¿¡å›ºå®š IPï¼‰|
| **Tailscale IP** | 100.78.235.14 |

---

## ğŸ“¦ ç›®å‰é‹è¡Œçš„æœå‹™

| æœå‹™ | Port | ç”¨é€” | é·ç§»ç­–ç•¥ |
|------|------|------|----------|
| **MDaemon éƒµä»¶** | 25, 110, 143, 587 | SMTP/POP3/IMAP | éœ€è©•ä¼°æ˜¯å¦ä¿ç•™æˆ–é·ç§»åˆ°å…¶ä»–æ–¹æ¡ˆ |
| **SQL Server 2019** | 1433 | è³‡æ–™åº« | é·ç§»åˆ° PostgreSQL æˆ– MySQL |
| **Nginx** | 80, 443 | Web Server | ä¿ç•™ä¸¦é‡æ–°é…ç½® |
| **SSH** | 22 | é ç«¯ç®¡ç† | åŸç”Ÿæ”¯æ´ï¼Œæ›´ä½³ |
| **Tailscale** | - | VPN | ä¿ç•™ |
| **VNC/AnyDesk** | 5900, 7070 | é ç«¯æ¡Œé¢ | æ”¹ç”¨ SSH + X2Go |

---

## ğŸ¯ é·ç§»å¾Œè¦åŠƒå®‰è£çš„æœå‹™

### å¿…è£æœå‹™

1. **Clawdbot**
   - å€‹äºº AI åŠ©æ‰‹å¹³å°
   - æ”¯æ´å¤šè¨Šæ¯å¹³å°ï¼ˆWhatsAppã€Telegramã€Slack ç­‰ï¼‰
   - Docker éƒ¨ç½²

2. **Web Server**
   - Nginxï¼ˆä¸»è¦ï¼‰
   - Apacheï¼ˆå‚™ç”¨ï¼‰
   - Let's Encrypt SSL æ†‘è­‰è‡ªå‹•çºŒç´„

3. **è³‡æ–™åº«**
   - PostgreSQLï¼ˆä¸»è¦ï¼‰
   - MySQLï¼ˆç›¸å®¹æ€§ï¼‰
   - Redisï¼ˆå¿«å–ï¼‰

4. **å®¹å™¨åŒ–å¹³å°**
   - Docker
   - Docker Compose
   - Portainerï¼ˆDocker ç®¡ç†ä»‹é¢ï¼‰

5. **ç›£æ§å·¥å…·**
   - Netdataï¼ˆç³»çµ±ç›£æ§ï¼‰
   - Prometheus + Grafanaï¼ˆé€²éšç›£æ§ï¼‰
   - Uptime Kumaï¼ˆæœå‹™å¥åº·æª¢æŸ¥ï¼‰

### è€ƒæ…®å®‰è£çš„æœå‹™

6. **CI/CD**
   - GitLab Runner
   - Jenkinsï¼ˆå‚™é¸ï¼‰

7. **æª”æ¡ˆæœå‹™**
   - Sambaï¼ˆWindows ç›¸å®¹æ€§ï¼‰
   - NFSï¼ˆLinux æª”æ¡ˆå…±äº«ï¼‰

8. **VPN**
   - Tailscaleï¼ˆä¿ç•™ï¼‰
   - WireGuardï¼ˆå‚™é¸ï¼‰

9. **éƒµä»¶æœå‹™**
   - Postfix + Dovecotï¼ˆå¦‚éœ€è‡ªå»ºéƒµä»¶ï¼‰
   - æˆ–æ”¹ç”¨å¤–éƒ¨ SMTP æœå‹™ï¼ˆGmailã€SendGridï¼‰

10. **å‚™ä»½æ–¹æ¡ˆ**
    - Resticï¼ˆå‚™ä»½åˆ° Synology NASï¼‰
    - rsyncï¼ˆæª”æ¡ˆåŒæ­¥ï¼‰

---

## ğŸ—ºï¸ é·ç§»æ­¥é©Ÿè¦åŠƒ

### Phase 1: æº–å‚™éšæ®µï¼ˆ1-2 å¤©ï¼‰

- [ ] ç›¤é»æ‰€æœ‰ç›®å‰æœå‹™èˆ‡è³‡æ–™
- [ ] å‚™ä»½é‡è¦è³‡æ–™åˆ° NAS
- [ ] æº–å‚™ Ubuntu Server ISOï¼ˆå»ºè­° 24.04 LTSï¼‰
- [ ] è¦åŠƒç¶²è·¯è¨­å®šï¼ˆå›ºå®š IPã€Port forwardingï¼‰
- [ ] æº–å‚™å®‰è£æ¸…å–®èˆ‡è…³æœ¬

### Phase 2: Ubuntu å®‰è£ï¼ˆåŠå¤©ï¼‰

- [ ] è£½ä½œ USB é–‹æ©Ÿç¢Ÿ
- [ ] å®‰è£ Ubuntu Server 24.04 LTS
- [ ] è¨­å®šç¶²è·¯ï¼ˆå›ºå®š IP 192.168.1.251ï¼‰
- [ ] è¨­å®š SSH é‡‘é‘°èªè­‰
- [ ] è¨­å®šé˜²ç«ç‰†ï¼ˆufwï¼‰

### Phase 3: åŸºç¤æœå‹™å®‰è£ï¼ˆ1 å¤©ï¼‰

- [ ] å®‰è£ Docker + Docker Compose
- [ ] å®‰è£ Nginx
- [ ] è¨­å®š Let's Encrypt SSL
- [ ] å®‰è£ PostgreSQL/MySQL
- [ ] å®‰è£ Tailscale
- [ ] è¨­å®šè‡ªå‹•æ›´æ–°

### Phase 4: Clawdbot å®‰è£ï¼ˆåŠå¤©ï¼‰

- [ ] å®‰è£ Node.js 22
- [ ] Clone Clawdbot repository
- [ ] è¨­å®š Docker Compose
- [ ] è¨­å®š Anthropic API (Claude Max OAuth)
- [ ] æ¸¬è©¦é€£ç·šèˆ‡åŠŸèƒ½

### Phase 5: é€²éšæœå‹™å®‰è£ï¼ˆ1-2 å¤©ï¼‰

- [ ] å®‰è£ç›£æ§å·¥å…·ï¼ˆNetdataï¼‰
- [ ] è¨­å®šå‚™ä»½è…³æœ¬ï¼ˆrsync to NASï¼‰
- [ ] å®‰è£ Portainerï¼ˆDocker ç®¡ç†ï¼‰
- [ ] å…¶ä»–éœ€è¦çš„æœå‹™

### Phase 6: è³‡æ–™é·ç§»èˆ‡é©—è­‰ï¼ˆ1 å¤©ï¼‰

- [ ] é·ç§»èˆŠè³‡æ–™åº«è³‡æ–™
- [ ] é·ç§»ç¶²ç«™æª”æ¡ˆ
- [ ] æ¸¬è©¦æ‰€æœ‰æœå‹™
- [ ] æ›´æ–° DNS è¨­å®šï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] é©—è­‰å¤–ç¶²å­˜å–

---

## âš ï¸ é¢¨éšªèˆ‡æ³¨æ„äº‹é …

### è³‡æ–™å‚™ä»½

**é‡è¦ï¼** é·ç§»å‰å¿…é ˆï¼š
- å®Œæ•´å‚™ä»½æ‰€æœ‰è³‡æ–™åˆ° Synology NAS
- å‚™ä»½ SQL Server è³‡æ–™åº«
- å‚™ä»½ç¶²ç«™æª”æ¡ˆ
- å‚™ä»½éƒµä»¶è³‡æ–™ï¼ˆå¦‚éœ€ä¿ç•™ï¼‰
- å‚™ä»½è¨­å®šæª”

### æœå‹™ä¸­æ–·æ™‚é–“

é ä¼°éœ€è¦ **1-2 å¤©å®Œå…¨åœæ©Ÿ**ï¼š
- å»ºè­°é¸æ“‡é€±æœ«æˆ–éå·¥ä½œæ™‚é–“é€²è¡Œ
- æå‰é€šçŸ¥æ‰€æœ‰ä½¿ç”¨è€…
- æº–å‚™ rollback è¨ˆåŠƒï¼ˆå¦‚é·ç§»å¤±æ•—ï¼‰

### ç›¸å®¹æ€§å•é¡Œ

éœ€è¦è©•ä¼°ï¼š
- SQL Server è³‡æ–™åº«é·ç§»åˆ° PostgreSQL/MySQL çš„ç›¸å®¹æ€§
- Windows å°ˆå±¬æ‡‰ç”¨ç¨‹å¼æ˜¯å¦æœ‰ Linux æ›¿ä»£æ–¹æ¡ˆ
- éƒµä»¶æœå‹™æ˜¯å¦å¿…é ˆä¿ç•™

### ç¡¬é«”ç›¸å®¹æ€§

- æª¢æŸ¥ Xeon Silver 4110 èˆ‡ Ubuntu çš„ç›¸å®¹æ€§ï¼ˆæ‡‰è©²æ²’å•é¡Œï¼‰
- æª¢æŸ¥ RAID å¡é©…å‹•ç¨‹å¼ï¼ˆå¦‚æœ‰ï¼‰
- æª¢æŸ¥ç¶²è·¯å¡é©…å‹•ç¨‹å¼

---

## ğŸ“ è©³ç´°å®‰è£è…³æœ¬ï¼ˆå¾…å®Œæˆï¼‰

### Ubuntu åˆå§‹è¨­å®šè…³æœ¬

```bash
#!/bin/bash
# ubuntu-initial-setup.sh

# æ›´æ–°ç³»çµ±
sudo apt update && sudo apt upgrade -y

# å®‰è£åŸºç¤å·¥å…·
sudo apt install -y \
    vim git curl wget htop \
    build-essential ufw fail2ban \
    net-tools

# è¨­å®šé˜²ç«ç‰†
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP
sudo ufw allow 443/tcp   # HTTPS
sudo ufw enable

# å®‰è£ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# å®‰è£ Docker Compose
sudo apt install -y docker-compose-plugin

# å®‰è£ Tailscale
curl -fsSL https://tailscale.com/install.sh | sh
```

### Clawdbot å®‰è£è…³æœ¬ï¼ˆå¾…å®Œæˆï¼‰

åƒè€ƒï¼š`clawdbot_evaluation_for_lt4.md`

---

## ğŸ¤” å¾…æ±ºå®šçš„å•é¡Œ

### å•é¡Œ 1ï¼šéƒµä»¶æœå‹™å¦‚ä½•è™•ç†ï¼Ÿ

**é¸é … A**ï¼šä¿ç•™è‡ªå»ºéƒµä»¶ï¼ˆé·ç§»åˆ° Postfix + Dovecotï¼‰
- å„ªé»ï¼šå®Œå…¨æ§åˆ¶
- ç¼ºé»ï¼šç¶­è­·æˆæœ¬é«˜

**é¸é … B**ï¼šæ”¹ç”¨å¤–éƒ¨ SMTP æœå‹™
- å„ªé»ï¼šçœäº‹ã€ç©©å®š
- ç¼ºé»ï¼šéœ€ä»˜è²»ã€åŠŸèƒ½å—é™

**é¸é … C**ï¼šåœç”¨éƒµä»¶æœå‹™
- å„ªé»ï¼šæœ€ç°¡å–®
- ç¼ºé»ï¼šéœ€ç¢ºèªç„¡äººä½¿ç”¨

### å•é¡Œ 2ï¼šSQL Server è³‡æ–™åº«é·ç§»æ–¹æ¡ˆ

**é¸é … A**ï¼šé·ç§»åˆ° PostgreSQL
- å„ªé»ï¼šåŠŸèƒ½å¼·å¤§ã€é–‹æº
- ç¼ºé»ï¼šéœ€èª¿æ•´ SQL èªæ³•

**é¸é … B**ï¼šé·ç§»åˆ° MySQL
- å„ªé»ï¼šç›¸å®¹æ€§å¥½
- ç¼ºé»ï¼šéƒ¨åˆ†åŠŸèƒ½è¼ƒå¼±

**é¸é … C**ï¼šä¿ç•™èˆŠè³‡æ–™åº«ï¼ˆå‚™ä»½å¾Œå°å­˜ï¼‰
- å„ªé»ï¼šæœ€å®‰å…¨
- ç¼ºé»ï¼šç„¡æ³•ç›´æ¥ä½¿ç”¨

### å•é¡Œ 3ï¼šRDP æ›¿ä»£æ–¹æ¡ˆ

Windows RDP åœ¨ Linux ä¸Šçš„æ›¿ä»£ï¼š

**é¸é … A**ï¼šX2Goï¼ˆåœ–å½¢åŒ–é ç«¯æ¡Œé¢ï¼‰
**é¸é … B**ï¼šç´” SSHï¼ˆç„¡åœ–å½¢ä»‹é¢ï¼‰
**é¸é … C**ï¼šVNCï¼ˆè¼ƒæ…¢ï¼‰

---

## ğŸ“… é è¨ˆæ™‚é–“è»¸

### 2026-02

- [ ] å®Œæˆé·ç§»è¨ˆåŠƒç´°ç¯€
- [ ] å‚™ä»½æ‰€æœ‰è³‡æ–™
- [ ] é¸å®šå®‰è£æ™‚é–“

### 2026-03

- [ ] åŸ·è¡Œé·ç§»ï¼ˆé¸æ“‡é€±æœ«ï¼‰
- [ ] å®‰è£æ‰€æœ‰æœå‹™
- [ ] æ¸¬è©¦èˆ‡é©—è­‰

### 2026-03 æœ«

- [ ] æ­£å¼ä¸Šç·š
- [ ] è§€å¯Ÿç©©å®šæ€§
- [ ] èª¿æ•´å„ªåŒ–

---

## ğŸ’¡ å³æ™‚æƒ³æ³•è¨˜éŒ„

### 2026-01-27

- Auruma Server ç›®å‰è¨˜æ†¶é«”å……è¶³ï¼ˆ32GBï¼‰ï¼Œé©åˆé‹è¡Œå¤šå€‹ Docker å®¹å™¨
- 8 æ ¸å¿ƒ CPU æ•ˆèƒ½è¶³å¤ 
- D: ç£ç¢Ÿ 1.44TB å¹¾ä¹ç©ºè‘—ï¼Œé©åˆä½œç‚º Docker volumes å„²å­˜
- å¯è€ƒæ…®å°‡ Clawdbotã€GitLab Runnerã€ç›£æ§å·¥å…·éƒ½éƒ¨ç½²åœ¨é€™å°
- éœ€ç¢ºèªç›®å‰éƒµä»¶æœå‹™æ˜¯å¦æœ‰å¯¦éš›ä½¿ç”¨ï¼ˆé¿å…è²¿ç„¶åœç”¨ï¼‰

---

**å¾…è¾¦æé†’**ï¼š
- å®šæœŸæ›´æ–°é€™å€‹è¨ˆåŠƒ
- è£œå……è©³ç´°å®‰è£è…³æœ¬
- æ±ºå®šå¾…æ±ºå®šçš„å•é¡Œ
- èˆ‡ä½¿ç”¨è€…ç¢ºèªé·ç§»æ™‚é–“
